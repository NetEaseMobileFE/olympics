<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
	<script src="js/utils/rem.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }

        .swiper-container {
            position: relative;
            overflow-x: hidden;
        }

        .swiper-wrapper {
            width: 100%;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-transition-property: -webkit-transform;
            transition-property: -webkit-transform;
            transition-property: transform;
            transition-property: transform, -webkit-transform;
            will-change: transform;
        }

        .swiper-slide {
            -webkit-flex-shrink: 0;
            -ms-flex-negative: 0;
            flex-shrink: 0;
        }

        .swiper-pagination {
            position: absolute;
            right: .3rem;
            bottom: .1rem;
            display: inline-block;
            padding: .06rem;
            font-size: 0;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: .12rem;
        }
        .swiper-pagination > span {
            display: inline-block;
            margin: 0 .03rem;
            width: .1rem;
            height: .1rem;
            background-color: rgba(0, 0, 0, 0.4);
            border-radius: 50%;
            -webkit-transition: backgroundColor .5s ease-in-out;
            transition: backgroundColor .5s ease-in-out;
        }
        .swiper-pagination > span.swiper-pagination-bullet-active {
            background-color: #fff;
        }


        .datepicker {
            margin-bottom: .19rem;
            height: 1.86rem;
            border-top: 1px solid #100b07;
        }

        .datepicker__bg {
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            height: 1.46rem;
            background-color: #004071;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.75);
            z-index: -1;
        }

        .datepicker__rail {
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
        }

        .tab {
            width: 1.07rem;
            height: 1.46rem;
            text-align: center;
            color: rgba(255,255,255,.16);
            background-color: #004071;
            will-change: transform, backgroud-color, color;
            transform-origin: top center;
            -webkit-transform-origin: top center;
        }
        .tab__month {
            padding-top: .20rem;
            font-size: .24rem;
        }
        .tab__day {
            margin-top: .12rem;
            font-size: .42rem;
        }
        .tab:nth-child(even) {
            background-color: #015697;
        }
        .tab.swiper-slide-active {
            position: relative;
            z-index: 1;
            color: #fff;
            background-color: #02518d;
        }
        .tab:nth-child(even).swiper-slide-active {
            background-color: #0060aa;
        }
        .tab.swiper-slide-active .tab__month {
        }
        .tab.swiper-slide-active .tab__day {
            margin-top: 0;
            font-size: .58rem;
        }


        .ctnr {
            position: relative;
            width: 7.50rem;
        }

        .line {
            height: 10rem;
            width: 1px;
            position: absolute;
            left: 50%;
            top: 0;
            background-color: indianred;
        }
    </style>
    <title>Title</title>
</head>
<body>
<div class="ctnr">
    <div class="line"></div>
    <div class="swiper-container datepicker">
        <div class="swiper-wrapper datepicker__rail">
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">03</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">04</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">05</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">06</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">07</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">08</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">09</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">10</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">11</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">12</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">13</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">14</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">15</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">16</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">17</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">18</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">19</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">20</p>
            </div>
            <div class="swiper-slide tab">
                <p class="tab__month">8月</p>
                <p class="tab__day">21</p>
            </div>
        </div>
        <div class="datepicker__bg"></div>
    </div>
</div>


<script src="http://img3.cache.netease.com/utf8/3g/libs/zepto_1.1.4.min.js"></script>
<script src="js/widgets/swiper.js"></script>
<script>
    var maxScaleX = 130 / 107;
    var maxScaleY = 168 / 146;
    var slideSize;


    var swiper = new Swiper ('.swiper-container', {
        slidesPerView: 7,
        centeredSlides: true,
        freeMode : true,
        freeModeSticky: true,
        freeModeMomentumRatio:.2,
        freeModeMomentumBounce: false,
        watchSlidesProgress : true,
	    resistanceRatio: 0,
//        simulateTouch: false, todo
//        speed: 1000,
        onSetTranslate: function(s) {
            var transform = s.translate;
            var center = -transform + s.width / 2;
            var slide, slideOffset, offsetMultiplier, scaleX, scaleY, slideTransform;
            var BOXSHADOW = '0 1px 2px rgba(0, 0, 0, 0.75)';
            slideSize = slideSize || s.slidesSizesGrid[0];

            //Each slide offset from center
            for (var i = 0, length = s.slides.length; i < length; i++) {
                slide = s.slides.eq(i);
                slideOffset = slide[0].swiperSlideOffset;
                offsetMultiplier = Math.abs((center - slideOffset - slideSize / 2) / slideSize);
                offsetMultiplier = Math.min(round(offsetMultiplier, 2), 1);

                scaleX = 1 + (1 - offsetMultiplier) * (maxScaleX - 1);
                scaleY = 1 + (1 - offsetMultiplier) * (maxScaleY - 1);

                if ( scaleX < 1.004 ) scaleX = 1;
                if ( scaleY < 1.004 ) scaleY = 1;

                slideTransform = 'scale3d(' + scaleX + ', ' + scaleY + ', 1)';
                slide.transform(slideTransform);

                if ( scaleX > 1 && scaleY > 1 ) {
                    slide[0].style.boxShadow = BOXSHADOW;
                } else {
                    slide[0].style.boxShadow = '';
                }
            }
        },
        onSetTransition: function (s, transition) {
//            s.slides.transition(transition);
            var start = Math.min(s.activeIndex, s.previousIndex);
            var end = Math.max(s.activeIndex, s.previousIndex);
            var slides = s.$([]);
            for ( var i = start; i <= end; i ++ ) {
                slides.add(s.slides.eq(i));
            }
            slides.transition(transition);

	    }
    });

    $('.tab').on('click', function() {
        swiper.slideTo($(this).index()); // todo
    });

    function round(val, dec) {
        var multiplier = Math.pow(10, dec);
        return Math.round(multiplier * val) / multiplier;
    }
</script>
</body>
</html>